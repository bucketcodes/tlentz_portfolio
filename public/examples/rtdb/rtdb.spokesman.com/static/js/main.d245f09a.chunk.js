(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(17),i=a.n(c),l=(a(67),a(7)),r=a(8),s=a(11),d=a(9),u=a(12),p=(a(68),a(3)),h=a.n(p),m=a(10),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data,t={labels:e.timecode&&e.timecode.map(function(e){return e}),datasets:[{label:"Tablet",borderColor:"#817E9F",data:e.tablet,fill:!1,lineTension:.5,pointRadius:0},{label:"Mobile",borderColor:"#008DD5",data:e.mobile,fill:!1,lineTension:.5,pointRadius:0},{label:"Desktop",borderColor:"#F56476",data:e.desktop,fill:!1,lineTension:.5,pointRadius:0},{label:"All",borderColor:"white",data:e.all,pointRadius:0,fill:!1,lineTension:.5}]};return o.a.createElement("div",null,o.a.createElement(m.c,{data:t,height:300,options:{maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:{fontColor:"white"}}],xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:20,fontColor:"lightgray"}}]},legend:{labels:{fontColor:"white"}}}}))}}]),t}(n.Component);a(178),a(179);function f(e){var t=e.data,a=[{label:"Mob",backgroundColor:["#008DD5"],data:[t.MOBILE],stack:"1"},{label:"Tab",backgroundColor:["#817E9F"],data:[t.TABLET],stack:"1"},{label:"Desk",backgroundColor:["#F56476"],data:[t.DESKTOP],stack:"1"}],n=[{label:"Search",backgroundColor:["#008DD5"],data:[t.SEARCH],stack:"1"},{label:"Soc.",backgroundColor:["#817E9F"],data:[t.SOCIAL],stack:"1"},{label:"Dir.",backgroundColor:["#F56476"],data:[t.DIRECT],stack:"1"},{label:"App",backgroundColor:["#DA2C38"],data:[t.APP],stack:"1"}],c={datasets:3===Object.keys(t).length?a:n};return o.a.createElement("div",null,o.a.createElement(m.b,{data:c,height:50,width:150,options:{responsive:!0,plugins:{stacked100:{enable:!0}},scales:{xAxes:[{stacked:!0,ticks:{display:!1},gridLines:{display:!1,drawOnChartArea:!1},categoryPercentage:1,barPercentage:1}],yAxes:[{stacked:!0,ticks:{display:!1},gridLines:{display:!1},categoryPercentage:1,barPercentage:1}]},legend:{position:"bottom",labels:{fontSize:8,boxWidth:6,padding:5}}}}))}var b=a(60),y=a.n(b),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).formatValue=function(e){return"".concat(e.toFixed(0))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.title,c=a.viewers,i=a.absolutePath,l=a.status,r=a.key,s=a.devices,d=a.source;return"up"===l?(e={opacity:1,color:"#008DD5"},t={opacity:0,color:"#DA2C38"}):"down"===l?(e={opacity:0,color:"#008DD5"},t={opacity:1,color:"#DA2C38"}):(e={opacity:0,color:"#008DD5"},t={opacity:0,color:"#DA2C38"}),o.a.createElement("li",{className:"card-container",key:r},o.a.createElement("div",{className:"card-views"},o.a.createElement("div",{style:{width:"50px"}},o.a.createElement("i",{className:"fa fa-arrow-up",style:e}),c.toString(),o.a.createElement("i",{className:"fa fa-arrow-down",style:t}))),o.a.createElement("div",{className:"card-title"},c>60&&o.a.createElement("img",{style:{position:"absolute",top:-10,left:25},width:100,src:y.a,alt:"FIRE!"}),o.a.createElement("h3",{style:{marginLeft:c>60?30:0}},n.length>75?n.slice(0,75)+"...":n),o.a.createElement("p",{style:{opacity:.5,marginLeft:c>60?30:0}},i)),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",borderLeft:"1px solid lightgray",paddingLeft:10,justifyContent:"space-between",width:320}},o.a.createElement(f,{data:s}),o.a.createElement(f,{data:d})))}}]),t}(n.Component),v=a(61);function k(e){var t=e.data,a={labels:Object.keys(t),datasets:[{backgroundColor:["#008DD5","#817E9F","#F56476","#DA2C38"],data:Object.values(t)}]};return o.a.createElement("div",null,o.a.createElement(m.a,{data:a,height:250,options:{maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:{fontColor:"white"},categoryPercentage:1,barPercentage:1}],xAxes:[{ticks:{fontColor:"lightgray"},categoryPercentage:1,barPercentage:1}]},legend:{display:!1}}}))}var w="http://localhost",D=!1,S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={device:{},pages:[],keywords:[],source:{"Search Engine":0,"Social Media":0,Direct:0,"News Apps":0},trends:[]},a.handleGetTrends=function(){h.a.get("".concat(D?w:"","/api/rt/trends/google")).then(function(e){a.setState({trends:e.data.slice(0,9)})})},a.handleGetInitialData=function(){a.handleGetTrends(),h.a.get("".concat(D?w:"","/api/rt/device/backlog")).then(function(e){var t=e.data,n={all:[],desktop:[],mobile:[],tablet:[],timecode:[]};t.forEach(function(e){n.all.push(e.data.All),n.desktop.push(e.data.DESKTOP),n.mobile.push(e.data.MOBILE),n.tablet.push(e.data.TABLET),n.timecode.push(new Date(e.meta.date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))}),a.setState({device:n})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/pages")).then(function(e){var t=e.data.pages;a.setState({pages:t.length>13?t.slice(0,13):t})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/keywords")).then(function(e){a.setState({keywords:e.data})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/source/new")).then(function(e){var t=e.data.data,n={"Search Engine":0,"Social Media":0,Direct:0,"News Apps":0};t.forEach(function(e){"google"===e[0]||"bing"===e[0]||"bing.com"===e[0]||"yahoo"===e[0]||"r.search.aol.com"===e[0]||"duckduckgo"===e[0]?n["Search Engine"]+=e[1]:"Facebook"===e[0]||"Twitter"===e[0]||"ask"===e[0]||"fm"===e[0]||"reddit"===e[0]?n["Social Media"]+=e[1]:"(direct)"===e[0]?n.Direct+=e[1]:n["News Apps"]+=e[1]}),a.setState({source:n})}).catch(function(e){console.log(e)})},a.handleGetData=function(){h.a.get("".concat(D?w:"","/api/rt/device/new")).then(function(e){console.log("RAN THE NEW DEVICE DATA");var t=a.state.device;t.all=t.all.concat(e.data.data.All).slice(0),t.desktop=t.desktop.concat(e.data.data.DESKTOP).slice(0),t.mobile=t.mobile.concat(e.data.data.MOBILE).slice(0),t.tablet=t.tablet.concat(e.data.data.TABLET).slice(0),t.timecode=t.timecode.concat(new Date(e.data.meta.date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})).slice(0),t.all>1e3&&(console.error("Something is up..."),console.dir(t),console.dir(t.desktop),console.dir(t.timecode)),t.all.length>540&&(t.all=t.all.slice(1,541),t.mobile=t.mobile.slice(1,541),t.desktop=t.desktop.slice(1,541),t.tablet=t.tablet.slice(1,541),t.timecode=t.timecode.slice(1,541)),a.setState({device:t})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/pages")).then(function(e){var t=e.data.pages;t.forEach(function(e,t){var n=t;a.state.pages.forEach(function(t,a){var o=a;e.path===t.path&&(n<o?e.status="up":n>o&&(e.status="down"))})}),a.setState({pages:t})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/keywords")).then(function(e){a.setState({keywords:e.data})}).catch(function(e){console.log(e)}),h.a.get("".concat(D?w:"","/api/rt/source/new")).then(function(e){var t=e.data.data,n={"Search Engine":0,"Social Media":0,Direct:0,"News Apps":0};t.forEach(function(e){"google"===e[0]||"bing"===e[0]||"bing.com"===e[0]||"yahoo"===e[0]||"r.search.aol.com"===e[0]||"duckduckgo"===e[0]?n["Search Engine"]+=e[1]:"Facebook"===e[0]||"Twitter"===e[0]||"ask"===e[0]||"fm"===e[0]||"reddit"===e[0]?n["Social Media"]+=e[1]:"(direct)"===e[0]?n.Direct+=e[1]:n["News Apps"]+=e[1]}),a.setState({source:n})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleGetInitialData(),setInterval(function(){return e.handleGetData()},2e4),setInterval(function(){return e.handleGetTrends()},36e5)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",{style:{marginTop:40,marginBottom:0}}," Devices ",o.a.createElement("span",{style:{fontWeight:300,fontStyle:"italic"}},"(Last ".concat(this.state.device.all&&this.state.device.all.length>3?Math.round(this.state.device.all.length/3):"0"," minutes)"))),o.a.createElement("section",null,this.state.device&&o.a.createElement(g,{data:this.state.device})),o.a.createElement("h1",{style:{marginTop:20,marginBottom:-20}}," Top Stories ",o.a.createElement("span",{style:{fontWeight:300,fontStyle:"italic"}},"(Live)")),this.state.pages&&o.a.createElement(v.a,{className:"card-wrapper"},this.state.pages.map(function(e){return o.a.createElement(E,{key:e.path,title:e.title,viewers:e.activeUsers,devices:e.devices,source:e.source,absolutePath:e.path,status:e.status?e.status:"static"})})),o.a.createElement("section",{style:{marginTop:-30},className:"two-columns"},o.a.createElement("div",null,o.a.createElement("h1",{style:{marginBottom:0}},"Key Words ",o.a.createElement("span",{style:{fontWeight:300,fontStyle:"italic"}},"(Live)")),o.a.createElement("div",{style:{maxHeight:"225px",overflow:"hidden"},className:"keyword-container",id:"keyword-container"},this.state.keywords.data&&this.state.keywords.data.map(function(e){return o.a.createElement("div",{style:{padding:"0 5px"},className:"keyword-item"},o.a.createElement("div",{className:"keyword-title",style:{fontWeight:"".concat(e[1].length>1?"800":"inherit")}},e[0]))}))),o.a.createElement("div",null,o.a.createElement("h1",{style:{marginBottom:0}},"Platform ",o.a.createElement("span",{style:{fontWeight:300,fontStyle:"italic"}},"(Live)")),o.a.createElement(k,{data:this.state.source}))),o.a.createElement("h2",{style:{marginTop:-10,marginBottom:-10}},"Google Trends ",o.a.createElement("span",{style:{fontWeight:300,fontStyle:"italic"}},"(Hourly)")),o.a.createElement("section",{style:{backgroundColor:"white",width:"95%",margin:"30px auto",padding:"1em",borderRadius:10,display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},this.state.trends&&this.state.trends.map(function(e,t){return o.a.createElement("div",{style:{padding:0,width:"30%"}},o.a.createElement("p",{style:{textAlign:"center"}},t+1,": ",e))})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a.p+"static/media/fire.2b18154f.gif"},62:function(e,t,a){e.exports=a(180)},67:function(e,t,a){},68:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.d245f09a.chunk.js.map